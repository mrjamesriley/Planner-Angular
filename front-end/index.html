<!doctype html>
<html ng-app="planner">
  <head>
    <title>Weekly Planner</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/planner.css">
  </head>
  <body ng-controller="MainController">

    <h1>Weekly Planner</h1>
    <p>Today is {{ today | date: 'EEEE d MMMM y'}}</p>
    <br />

    <ul class="nav nav-pills topics-list" ng-controller="TopicsPanelController">
      <lp-topic ng-repeat="topic in topics"></lp-topic>
    </ul>
    <br />

    <table class="planner-table">
      <thead>
        <tr>
          <th ng-repeat="day in days">{{ day.name }}</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td ng-repeat="day in days">
            <lp-task ng-repeat="task in planner.visibleTasksForDay(day, topics) | orderBy: 'startTime'" />
          </td>
          <td>
            <lp-task-form />
          </td>
        </tr>
      </tbody>
    </table>

      <p><button class="btn btn-success" ng-click="saveTasks()">
        <span ng-show="!saving">Save changes</span>
        <span ng-show="saving">Saving...</span>
      </button></p>

      <script src="/bower_components/angularjs/angular.js"></script>
      <script src="/bower_components/angularjs-rails-resource/angularjs-rails-resource.js"></script>
      <script src="/bower_components/checklist-model/checklist-model.js"></script>
      <script src="/bower_components/lodash/lodash.js"></script>

      <script src="js/planner.js"></script>
      <script src="js/planner-directives.js"></script>
      <script src="js/planner-controllers.js"></script>
      <script src="js/planner-services.js"></script>

      <!-- live reload script -->
      <div ng-include="templates/live-reload.html"></div>
  </body>
</html>
